<!DOCTYPE html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta charset="UTF-8">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <!-- 苹果手机状态栏 -->
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <style>
        body,
        p,
        h1,
        h2,
        h3,
        h4,
        h5,
        h6,
        ul,
        ol,
        li,
        dl,
        dt,
        dd,
        table,
        th,
        td,
        form,
        fieldset,
        legend,
        input,
        textarea,
        button,
        select {
            margin: 0;
            padding: 0;
        }

        body,
        input,
        textarea,
        select,
        button,
        table {
            font-size: 14px;
            line-height: 1.25em;
        }

        html {
            height: 100%;
        }

        body {
            min-width: 750px;
            font-size: 14px;
            font-family: 'microsoft yahei', Verdana, Arial, Helvetica, sans-serif;
            color: #333;
            -webkit-text-size-adjust: none;
            -webkit-user-select: none;
            -webkit-tap-highlight-color: transparent;
            height: 100%;
        }

        table {
            border-collapse: collapse;
            border-spacing: 0
        }

        fieldset,
        img,
        button {
            border: 0;
        }

        li {
            list-style: none
        }

        a {
            text-decoration: none;
            color: #333;
            outline: none
        }

        img {
            vertical-align: middle
        }

        h1,
        h2,
        h3,
        h4,
        h5,
        h6,
        input,
        textarea,
        select,
        button {
            font-size: 100%
        }

        ::-webkit-input-placeholder {
            color: #bbb;
        }

        input[type="text"], input[type="number"], input[type="password"] {
            -webkit-appearance: none;
            border-radius: 0;
        }

        em,
        i {
            font-style: normal
        }
        .btn{
            display: block;
            text-align: center;
        }
        .font0{
            font-size:0;
            text-indent:-99999px;
        }
        .hide {
            display: none
        }

        .top{
            position: relative;
            background: #333;
            line-height:100px;
        }
        .back{
            position: absolute;
            left:20px;
            top:25px;
            width:31px;
            height:51px;
            background: url("/images/back.png") no-repeat center;
            background-size: cover;
        }
        .top h1{
            text-align: center;
            font-size:36px;
            color: #fff;
            font-weight:normal;
        }
        .col{
            display: inline-block;
        }
        .header .col:last-child{
            border:1px solid #cccccc;
        }
        .row .col:last-child{
            border:1px solid #cccccc;
        }
        .mytable_fixed{
            overflow: hidden;
            width:800px;
            height:450px;
        }
        .mytable_fixedHeaderColumn{
            float:left;
            overflow: hidden;
            width:119px;
            height:100%;
            border-right:1px solid #d2d2d2;
        }
        .mytable_fixedHeaderColumn .headercol{
            width:100%;
            height:100%;
            text-align: center;
            line-height:;
        }
        .mytable_header_left{
            float:left;
            overflow: hidden;
            width:630px;
            height:100%;
        }
        .mytable_header_left>div{
            width:700px;
            overflow: auto;
        }
        .mytable_header_left .headercol{
            float: left;
            width:139px;
            border-right:1px solid #d2d2d2;
        }
        .mytable_fixedColumn{
            float:left;
            overflow: hidden;
            width:120px;
            height:100%;
            background: #f2f2f2;
        }
        .myfixedrow{
            width:119px;
            height:69px;
            overflow: hidden;
            border:1px solid #d2d2d2;
            border-bottom:none;
            border-left:none;
            line-height:70px;
            font-size:22px;
            color: #6c6c6c;
        }
        .mytable_conentent{
            float:left;
            overflow: auto;
            width:630px;
            height:100%;
            /*高度需要动态计算*/
            background-color: #fff;
            /*-webkit-overflow-scrolling: touch;*/
        }
        .mytable_conentent>div{
            width:700px;
        }
        .mytable_header{
            overflow:hidden;
            box-sizing: border-box;
            width:100%;
            height:82px;
            text-align: center;
            line-height:82px;
            background-color: #e4e4e4;
            font-size:22px;
            color: #020202;
        }
        .myrow{
            overflow: hidden;
        }
        .myrow div{
            width: 139px;
            height: 69px;
            overflow: hidden;
            border: 1px solid #d2d2d2;
            border-bottom: none;
            border-left: none;
            line-height: 70px;
            font-size: 24px;
            color: #020202;
            float: left;
        }
        .l-box-center {
            display: -webkit-box;
            -webkit-box-align: center;
            -webkit-box-pack: center;
            display: flex;
            justify-content: center;
            align-items: center;
            -webkit-box-orient: vertical;
            flex-flow: column;
        }
        .l-box-vertical-center {
            display: -webkit-box;
            -webkit-box-align: center;
            display: flex;
            align-items: center;
            -webkit-box-orient: horizontal;
            flex-flow: row;
        }
        .l-box-vertical-center-justify {
            display: -webkit-box;
            -webkit-box-orient: horizontal;
            flex-flow: row;
            -webkit-box-align: center;
            -webkit-box-pack: justify;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        .l-box-vertical-center-begin {
            display: -webkit-box;
            -webkit-box-orient: horizontal;
            flex-flow: row;
            -webkit-box-align: center;
            -webkit-box-pack: start;
            display: flex;
            align-items: center;
            justify-content: flex-start;
        }
        .l-box-vertical-center-end {
            display: -webkit-box;
            -webkit-box-orient: horizontal;
            flex-flow: row;
            -webkit-box-align: center;
            -webkit-box-pack: end;
            display: flex;
            align-items: center;
            justify-content: flex-end;
        }
        .l-box-horizontal-center {
            display: -webkit-box;
            -webkit-box-pack: center;
            display: flex;
            justify-content: center;
            -webkit-box-orient: horizontal;
            flex-flow: row;
        }

        .l-flex-column {
            display: -webkit-box;
            -webkit-box-orient: vertical;
            display: flex;
            flex-flow: column;
            height: 100%
        }
        .l-flex-row {
            display: -webkit-box;
            -webkit-box-orient: horizontal;
            display: flex;
            flex-flow: row;
            width: 100%
        }
        .l-flex-1 {
            -webkit-box-flex: 1;
            flex: 1;
            overflow: hidden
        }
        .l-scroll-y {
            overflow: auto;
            -webkit-overflow-scrolling: touch;
        }
        .l-full {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0
        }
        .l-relative {
            position: relative;
            text-align: center;
        }

        /*--返佣详情--*/
        .date-rebate{
            position: absolute;
            right: 42px;
            top: 31px;
            min-width: 42px;
            height: 38px;
            overflow: hidden;
            font-size: 0;
            background: url("/images/calendar.png") no-repeat right center;
            background-size: cover;
        }
        .rebate-msg{
            width:100%;
            height:107px;
            overflow: hidden;
            background: #ededed;
        }
        .rebate-msg ul{
            display: flex;
            display: -webkit-flex;
            justify-content: space-between;
        }
        .rebate-msg li{
            flex:1;
            text-align: center;
        }
        .rebate-msg li span::before{
            margin-right: 8px;
            content: "";
            display: inline-block;
            width: 34px;
            height: 44px;
            overflow: hidden;
            background: url(/images/sp-c.png) no-repeat center;
            background-size: 34px 34px;
        }
        .rebate-msg li span{
            display: block;
            line-height:44px;
            font-size:22px;
            color: #a4a4a4;
        }
        .rebate-msg li div{
            line-height:30px;
            font-size:24px;
            color: #020202;
        }
        .mytable_container{
            width:750px;
            height:400px;
            /*高度动态获取*/
            box-sizing: border-box;
        }
    </style>
</head>
<body >
<div class="l-full l-flex-column">
    <div class="top">
        <a href="javascript:;" class="btn font0 back">返回</a>
        <a href="#" class="btn date-rebate">日期选择</a>
        <h1>返佣详情</h1>
    </div>
    <div class="rebate-msg">
        <ul>
            <li class="rebate-msg1">
                <span>总投注</span>
                <div>65.3万</div>
            </li>
            <li class="rebate-msg2">
                <span>总盈亏</span>
                <div>65.3万</div>
            </li>
            <li class="rebate-msg3">
                <span>总返佣</span>
                <div>65.3万</div>
            </li>

        </ul>
    </div>
    <div class="l-flex-1 l-relative">
        <div class="mytable_fixed l-full l-flex-column">
            <div class="mytable_header">
                <div class="mytable_fixedHeaderColumn">
                    <div class="col headercol">用户</div>
                </div>
                <div class="mytable_header_left">
                    <div>
                        <div class="col headercol">投注</div>
                        <div class="col headercol">盈亏</div>
                        <div class="col headercol">返佣</div>
                        <div class="col headercol">手续费</div>
                        <div class="col headercol">兑换奖品成本</div>
                    </div>
                </div>
            </div>
            <div class="mytable_container l-flex-1">
                <div class="mytable_fixedColumn">
                    <!--固定2列的行展示-->
                    <div class="myfixedrow">
                        <div class="col fixedcol" style="">1</div>
                    </div>
                    <div class="myfixedrow">
                        <div class="col fixedcol" style="">2</div>
                    </div>
                    <div class="myfixedrow">
                        <div class="col fixedcol" style="">3</div>
                    </div>
                    <div class="myfixedrow">
                        <div class="col fixedcol" style="">4</div>
                    </div>
                    <div class="myfixedrow">
                        <div class="col fixedcol" style="">5</div>
                    </div>
                    <div class="myfixedrow">
                        <div class="col fixedcol" style="">6</div>
                    </div>
                    <div class="myfixedrow">
                        <div class="col fixedcol" style="">7</div>
                    </div>
                    <div class="myfixedrow">
                        <div class="col fixedcol" style="">8</div>
                    </div>
                    <div class="myfixedrow">
                        <div class="col fixedcol" style="">9</div>
                    </div>
                    <div class="myfixedrow">
                        <div class="col fixedcol" style="">10</div>
                    </div>
                    <div class="myfixedrow">
                        <div class="col fixedcol" style="">11</div>
                    </div>
                </div>
                <div class="mytable_conentent">
                    <!--非固定列数据-->
                    <div data-scrollable="true"  >
                        <div class="myrow" >
                            <div class="col" style="">row1*col1</div>
                            <div class="col" style="">row1*col2</div>
                            <div class="col" style="">row1*col3</div>
                            <div class="col" style="">row1*col4</div>
                            <div class="col" style="">row1*col5</div>
                        </div>
                        <div class="myrow" >
                            <div class="col" style="">row1*col1</div>
                            <div class="col" style="">row1*col2</div>
                            <div class="col" style="">row1*col3</div>
                            <div class="col" style="">row1*col4</div>
                            <div class="col" style="">row1*col5</div>
                        </div>
                        <div class="myrow" >
                            <div class="col" style="">row1*col1</div>
                            <div class="col" style="">row1*col2</div>
                            <div class="col" style="">row1*col3</div>
                            <div class="col" style="">row1*col4</div>
                            <div class="col" style="">row1*col5</div>
                        </div>
                        <div class="myrow" >
                            <div class="col" style="">row1*col1</div>
                            <div class="col" style="">row1*col2</div>
                            <div class="col" style="">row1*col3</div>
                            <div class="col" style="">row1*col4</div>
                            <div class="col" style="">row1*col5</div>
                        </div>
                        <div class="myrow" >
                            <div class="col" style="">row1*col1</div>
                            <div class="col" style="">row1*col2</div>
                            <div class="col" style="">row1*col3</div>
                            <div class="col" style="">row1*col4</div>
                            <div class="col" style="">row1*col5</div>
                        </div>
                        <div class="myrow" >
                            <div class="col" style="">row1*col1</div>
                            <div class="col" style="">row1*col2</div>
                            <div class="col" style="">row1*col3</div>
                            <div class="col" style="">row1*col4</div>
                            <div class="col" style="">row1*col5</div>
                        </div>
                        <div class="myrow" >
                            <div class="col" style="">row1*col1</div>
                            <div class="col" style="">row1*col2</div>
                            <div class="col" style="">row1*col3</div>
                            <div class="col" style="">row1*col4</div>
                            <div class="col" style="">row1*col5</div>
                        </div>
                        <div class="myrow" >
                            <div class="col" style="">row1*col1</div>
                            <div class="col" style="">row1*col2</div>
                            <div class="col" style="">row1*col3</div>
                            <div class="col" style="">row1*col4</div>
                            <div class="col" style="">row1*col5</div>
                        </div>
                        <div class="myrow" >
                            <div class="col" style="">row1*col1</div>
                            <div class="col" style="">row1*col2</div>
                            <div class="col" style="">row1*col3</div>
                            <div class="col" style="">row1*col4</div>
                            <div class="col" style="">row1*col5</div>
                        </div>
                        <div class="myrow" >
                            <div class="col" style="">row1*col1</div>
                            <div class="col" style="">row1*col2</div>
                            <div class="col" style="">row1*col3</div>
                            <div class="col" style="">row1*col4</div>
                            <div class="col" style="">row1*col5</div>
                        </div>
                        <div class="myrow" >
                            <div class="col" style="">row1*col1</div>
                            <div class="col" style="">row1*col2</div>
                            <div class="col" style="">row1*col3</div>
                            <div class="col" style="">row1*col4</div>
                            <div class="col" style="">row1*col5</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!--<script src="scroller-master/src/Animate.js"></script>-->
<script src="scroller-master/src/Scroller.js"></script>

<script>
//    var mytable_conentent_Dom=document.getElementsByClassName("mytable_conentent")[0];
    var mytable_fixedColumn_Dom=document.getElementsByClassName("mytable_fixedColumn")[0];
    var mytable_header_left_Dom=document.getElementsByClassName("mytable_header_left")[0];
//
//    mytable_conentent_Dom.addEventListener("scroll",function(event){
//        var target=event.target;
//        mytable_fixedColumn_Dom.scrollTop=target.scrollTop;
//        mytable_header_left_Dom.scrollLeft=target.scrollLeft;
//    },false);

    var EasyScroller = function(content, options) {
      this.content = content;
      this.container = content.parentNode;
      this.options = options || {};
      // create Scroller instance
      var that = this;
      this.scroller = new Scroller(function(left, top, zoom) {
        that.render(left, top, zoom);
      }, options);
      // bind events
      this.bindEvents();
      // the content element needs a correct transform origin for zooming
      this.content.style[EasyScroller.vendorPrefix + 'TransformOrigin'] = "left top";
      // reflow for the first time
      this.reflow();

    };

    EasyScroller.prototype.render = (function() {

      var docStyle = document.documentElement.style;

      var engine;
      if (window.opera && Object.prototype.toString.call(opera) === '[object Opera]') {
        engine = 'presto';
      } else if ('MozAppearance' in docStyle) {
        engine = 'gecko';
      } else if ('WebkitAppearance' in docStyle) {
        engine = 'webkit';
      } else if (typeof navigator.cpuClass === 'string') {
        engine = 'trident';
      }

      var vendorPrefix = EasyScroller.vendorPrefix = {
        trident: 'ms',
        gecko: 'Moz',
        webkit: 'Webkit',
        presto: 'O'
      }[engine];

      var helperElem = document.createElement("div");
      var undef;

      var perspectiveProperty = vendorPrefix + "Perspective";
      var transformProperty = vendorPrefix + "Transform";

      if (helperElem.style[perspectiveProperty] !== undef) {

        return function(left, top, zoom) {
          this.content.style[transformProperty] = 'translate3d(' + (-left) + 'px,' + (-top) + 'px,0) scale(' + zoom + ')';
        };

      } else if (helperElem.style[transformProperty] !== undef) {

        return function(left, top, zoom) {
          this.content.style[transformProperty] = 'translate(' + (-left) + 'px,' + (-top) + 'px) scale(' + zoom + ')';
        };

      } else {

        return function(left, top, zoom) {
          this.content.style.marginLeft = left ? (-left/zoom) + 'px' : '';
          this.content.style.marginTop = top ? (-top/zoom) + 'px' : '';
          this.content.style.zoom = zoom || '';
        };

      }
    })();

    EasyScroller.prototype.reflow = function() {

      // set the right scroller dimensions
      this.scroller.setDimensions(this.container.clientWidth, this.container.clientHeight, this.content.offsetWidth, this.content.offsetHeight);

      // refresh the position for zooming purposes
      var rect = this.container.getBoundingClientRect();
      this.scroller.setPosition(rect.left + this.container.clientLeft, rect.top + this.container.clientTop);

    };

    EasyScroller.prototype.bindEvents = function() {

      var that = this;

      // reflow handling
      window.addEventListener("resize", function() {
        that.reflow();
      }, false);

      // touch devices bind touch events
      if ('ontouchstart' in window) {
        this.container.addEventListener("touchstart", function(e) {
          // Don't react if initial down happens on a form element
          if (e.touches[0] && e.touches[0].target && e.touches[0].target.tagName.match(/input|textarea|select/i)) {
            return;
          }

          // reflow since the container may have changed
          that.reflow();

          that.scroller.doTouchStart(e.touches, e.timeStamp);
        }, false);

        this.container.addEventListener("touchmove", function(e) {
          e.preventDefault();
          that.scroller.doTouchMove(e.touches, e.timeStamp, e.scale);
          //  在这里取到 offset 的值
          console.log(that.scroller.getValues())
          mytable_fixedColumn_Dom.scrollTop=that.scroller.getValues().top;
          mytable_header_left_Dom.scrollLeft=that.scroller.getValues().left;

        }, false);

        this.container.addEventListener("touchend", function(e) {
          that.scroller.doTouchEnd(e.timeStamp);
        }, false);

        this.container.addEventListener("touchcancel", function(e) {
          that.scroller.doTouchEnd(e.timeStamp);
        }, false);

        // non-touch bind mouse events
      } else {

        var mousedown = false;
        this.container.addEventListener("mousedown", function(e) {
          if (e.target.tagName.match(/input|textarea|select/i)) {
            return;
          }
          that.scroller.doTouchStart([{
            pageX: e.pageX,
            pageY: e.pageY
          }], e.timeStamp);
          mousedown = true;
          // reflow since the container may have changed
          that.reflow();
          e.preventDefault();
        }, false);
        document.addEventListener("mousemove", function(e) {
          if (!mousedown) {
            return;
          }

          that.scroller.doTouchMove([{
            pageX: e.pageX,
            pageY: e.pageY
          }], e.timeStamp);

          mousedown = true;

        }, false);

        document.addEventListener("mouseup", function(e) {
          if (!mousedown) {
            return;
          }
          that.scroller.doTouchEnd(e.timeStamp);
          mousedown = false;
        }, false);
        this.container.addEventListener("mousewheel", function(e) {
          if(that.options.zooming) {
            that.scroller.doMouseZoom(e.wheelDelta, e.timeStamp, e.pageX, e.pageY);
            e.preventDefault();
          }
        }, false);
      }
    };
    document.addEventListener("DOMContentLoaded", function() {
      var elements = document.querySelectorAll('[data-scrollable]'), element;
      for (var i = 0; i < elements.length; i++) {
        element = elements[i];
        var scrollable = element.attributes.getNamedItem('data-scrollable') ? element.attributes.getNamedItem('data-scrollable').value : null;
        new EasyScroller(element, {
          scrollingX: scrollable === 'true' || scrollable === 'x',
          scrollingY: scrollable === 'true' || scrollable === 'y',
          bouncing:false,
        });
      };
    }, false);

</script>
</body>
</html>